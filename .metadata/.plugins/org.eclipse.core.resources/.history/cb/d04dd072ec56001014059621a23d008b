package com.junsu.sohee.controller;

import java.util.ArrayList;
import java.util.List;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.junsu.sohee.vo.Idol;

import jakarta.annotation.PostConstruct;

@RestController // @Controller + @ResponseBody
@RequestMapping("/api")
public class SoheeController {

	// 메모리상에서 관리
	private static List<Idol> idols = new ArrayList<>();
	
	@PostConstruct  // 객체 생성 뒤에 자동 실행 
	public void myInit() {
		Idol idol = null;
		for(int i=1; i<=7; i++) {
			idol = new Idol();
			idol.setName("아이돌"+i);
			idol.setAge(20+i);
			idols.add(idol);
		}
	}
	
	// 리스트
	@GetMapping("/idols")
	public List<Idol> getName() {
		return idols;  // 잭슨 라이브러리가 동작해서 결과를 JSON문자열로 바꾸어 줌
	}
}
